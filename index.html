<!DOCTYPE html>
<html>
  <style>
    /* 加载前 */
    .el-image__placeholder {
      background: url('./img/loading.gif') no-repeat 50% 50% !important;
      background-size: 50% !important;
    }
    
  </style>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui@2.15.14/lib/theme-chalk/index.css">
</head>

<body>
  <div style="vertical-align: middle;height: 60px;margin: 20px;margin-bottom: 40px;text-align: center;box-shadow: 0 10px 5px -5px #dddddd;">
      <h1 style="margin: 0px;line-height: 60px;">
        Clinical Implications of the Multimodal Nomogram for Predicting PCa Risk Stratification
      </h1>
  </div>

  <div id="main">
    <div style="border: 20px;">
      <template>
        <span style="margin-left: 30px;">Please select a patient: 
          <el-select ref="item_selected" v-model="value" filterable placeholder="Please select" style="width: 150px;">
            <el-option
              v-for="item in options"
              :key="item.value"
              :value="item.value"
              :label="item.label">
            </el-option>
          </el-select>
        </span>
      </template>
    </div>

    <!-- 图片显示 -->
    <div style="text-align: center;display: block;margin: 20px;">
      <el-image id="image" ref="img" style="width: auto;max-width: 1400px;border: 10px;border-style: solid;border-color: transparent;" src="./img/firstpage.png">
        <div slot="placeholder" class="image-slot">
          <i class="el-icon-picture-outline"></i>
        </div>
      </el-image>
    </div>

    <div style="text-align:center;margin: 20px;">
      <el-row>
        <span style="text-align: center;">Risk prediction of the multimodal nomogram: </span>
        <!-- <el-tag id="nomo" type="info" style="width: 124px;text-align: center;background-color: #cfcfcf;color: #242424;">unknown</el-tag> -->
        <el-tag effect="dark" id="nomo" ref="nomo" :type="nomo_tag" v-model="nomo_tag" style="margin-right: 200px;width: 124px;text-align: center;">unknown</el-tag>
        <span style="text-align: center;">Risk Assignment according to EAU guideline: </span>
        <el-tag effect="dark" id="eau" ref="eau" :type="eau_tag" v-model="eau_tag" style="width: 124px;text-align: center;">unknown</el-tag>
      </el-row>
    </div>
    <div style="position: relative;right: 0;bottom: 0;margin-top: 30px;">
      <p style="text-align: right;font-size: 10px;margin: 5px;">For any inquiry, please contact us at xwu@wit.edu.cn</p>
      <p style="text-align: right;font-size: 10px;margin: 5px;">Copyright @ MedAILab in Wuhan Institute of Technology</p>
      <p style="text-align: right;font-size: 10px;margin: 5px;">All Right Reserved</p>
    </div>

  </div>

</body>

  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue@2/dist/vue.js"></script>

  <!-- import JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>

  <script>

    // function preloadImage(url) {
    //   var img = new Image();
    //   img.src = url;
    //   img.onload = function() {
    //     // 图片加载完成后执行的操作
    //   };
    // }

    // var imgUrl = "../img/0_0.png"
    
    // var nomo_tag = document.getElementById("nomo");
    // var eau_tag = document.getElementById("eau");

    const app = new Vue({
      el: '#main',
      mounted() {
        // 等待页面加载完成后再开始预缓存图片
        window.addEventListener('load', this.preloadImages);
      },

      data() {
        return {
          nomo_tag: "info",
          eau_tag: "info",

          // 图片路径
          image_path: "./img/firstpage.png",

          // 选项内容
          options: [{
            value: 'A',
            label: 'Patient A'
          }, {
            value: 'B',
            label: 'Patient B'
          }, {
            value: 'C',
            label: 'Patient C'
          }, {
            value: 'D',
            label: 'Patient D'
          }, {
            value: 'E',
            label: 'Patient E'
          }, {
            value: 'F',
            label: 'Patient F'
          }, {
            value: 'G',
            label: 'Patient G'
          }, {
            value: 'H',
            label: 'Patient H'
          }, {
            value: 'I',
            label: 'Patient I'
          }, {
            value: 'J',
            label: 'Patient J'
          }, {
            value: 'L',
            label: 'Patient L'
          }, {
            value: 'M',
            label: 'Patient M'
          }, {
            value: 'N',
            label: 'Patient N'
          }, {
            value: 'O',
            label: 'Patient O'
          }, {
            value: 'P',
            label: 'Patient P'
          }, {
            value: 'Q',
            label: 'Patient Q'
          }, {
            value: 'R',
            label: 'Patient R'
          }, {
            value: 'S',
            label: 'Patient S'
          }, {
            value: 'T',
            label: 'Patient T'
          }, {
            value: 'U',
            label: 'Patient U'
          }, 
          {
            value: 'V',
            label: 'Patient V'
          }, 
          {
            value: 'W',
            label: 'Patient W'
          }, 
          {
            value: 'X',
            label: 'Patient X'
          }, 
          {
            value: 'Y',
            label: 'Patient Y'
          }, 
          {
            value: 'Z',
            label: 'Patient Z'
          }, 
        
        
        ],
          value: ''
        }
      },

      methods: {
        // changeType(nomo_val, eau_val) {
        //   // 获取当前 el-tag 的 type 属性值
        //   // const currentType = this.type;
        //   // 将 type 属性值修改为新的值
        //   switch (nomo_val) {
        //     case 0:
        //       // nomo_tag.style.borderColor = "#409eff";
        //       // nomo_tag.style.backgroundColor = "#409eff";
        //       // nomo_tag.style.backgroundColor = rgb()
        //       bgcolor = "#409eff";
        //       bdcolor = "#409eff";
        //       break;
        //     case 1:
        //       nomo_tag.style.borderColor = "#e6a23c";
        //       nomo_tag.style.backgroundColor = "#e6a23c";
        //       break;
        //     case 2:
        //       nomo_tag.style.borderColor = "#f56c6c";
        //       nomo_tag.style.backgroundColor = "#f56c6c";
        //       break;
        //     case 3:
        //       nomo_tag.style.borderColor = "#909399";
        //       nomo_tag.style.backgroundColor = "#909399";
        //       break;
        //   }
          
        //   console.log(nomo_tag.style.backgroundColor);
          
        //   // this.type = currentType === "primary" ? "success" : "primary";
        //   // 更新 el-tag 的 type 属性值
        // },
        //   // 
        // formatTagType(state) {
        //   switch (state) {
        //     case '0': 
        //       return 'success';
        //       break;
        //     case 1:
        //       return 'warning';
        //       break;
        //     case 2:
        //       return 'danger';
        //       break;
        //     case 3:
        //       return 'info';
        //       break;
        //   }
        // },

        nomotagLow() {
          this.nomo_tag = 'success';
        },

        eautagLow() {
          this.eau_tag = 'success';
        },

        nomotagIntermediate() {
          this.nomo_tag = 'warning';
        },
        
        eautagIntermediate() {
          this.eau_tag = 'warning';
        },

        nomotagHigh() {
          this.nomo_tag = 'danger';
        },
        
        eautagHigh() {
          this.eau_tag = 'danger';
        },

        // 获取最新的选项值
        change() {
          console.log(this.value);
        },

        // 预缓存图片
        preloadImages() {
          let imgs = [
          "./img/0_0_0.png",
          "./img/0_0_1.png",
          "./img/0_0_2.png",
          "./img/0_0_3.png",
          "./img/0_0_4.png",
          "./img/0_0_5.png",
          "./img/0_0_6.png",
          "./img/0_1.png",
          "./img/1_0.png",
          "./img/1_1_0.png",
          "./img/1_1_1.png",
          "./img/1_1_2.png",
          "./img/1_1_3.png",
          "./img/1_1_4.png",
          "./img/1_1_5.png",
          "./img/2_1_0.png",
          "./img/2_2_0.png",
          "./img/2_2_1.png",
          "./img/2_2_2.png",
          "./img/2_2_3.png",
          "./img/2_2_4.png",
          "./img/2_2_5.png",
          "./img/2_2_6.png",
          "./img/2_2_7.png",
          "./img/2_2_8.png",
          "./img/2_2_9.png",
          ]

          for (let img of imgs) {
            let image = new Image()
            image.src = img
            image.onload = () => {
              this.count++
            }
          }
        },

      },
      watch: {
        // 监听 el-select 选项值的变化
        value(val) {
          // 执行回调函数
          this.change();
          var img = document.getElementById("image");
          var nomo = document.getElementById("nomo");
          var eau = document.getElementById("eau");
          switch (val) {
            case 'A': {
              img.src = "./img/0_0_0.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'B': {
              img.src = "./img/0_0_1.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'C': {
              img.src = "./img/0_0_2.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'D': {
              img.src = "./img/0_0_3.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'E': {
              img.src = "./img/0_0_4.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'F': {
              img.src = "./img/0_0_5.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'G': {
              img.src = "./img/0_0_6.png";
              eau.innerText = "Low";
              nomo.innerText = "Low";
              this.eautagLow();
              this.nomotagLow();
              break;
            }
            case 'H': {
              img.src = "./img/0_1.png";
              eau.innerText = "Low";
              nomo.innerText = "Intermediate";
              this.eautagLow();
              this.nomotagIntermediate();
              break;
            }
            case 'I': {
              img.src = "./img/1_0.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Low";
              this.eautagIntermediate();
              this.nomotagLow();
              break;
            }
            case 'J': {
              img.src = "./img/1_1_0.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'K': {
              img.src = "./img/1_1_1.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'L': {
              img.src = "./img/1_1_2.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'M': {
              img.src = "./img/1_1_3.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'N': {
              img.src = "./img/1_1_4.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'O': {
              img.src = "./img/1_1_5.png";
              eau.innerText = "Intermediate";
              nomo.innerText = "Intermediate";
              this.eautagIntermediate();
              this.nomotagIntermediate();
              break;
            }
            case 'P': {
              img.src = "./img/2_1_0.png";
              eau.innerText = "High";
              nomo.innerText = "Intermediate";
              this.eautagHigh();
              this.nomotagIntermediate();
              break;
            }
            case 'Q': {
              img.src = "./img/2_2_0.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'R': {
              img.src = "./img/2_2_1.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'S': {
              img.src = "./img/2_2_2.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'T': {
              img.src = "./img/2_2_3.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'U': {
              img.src = "./img/2_2_4.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'V': {
              img.src = "./img/2_2_5.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'W': {
              img.src = "./img/2_2_6.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'X': {
              img.src = "./img/2_2_7.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'Y': {
              img.src = "./img/2_2_8.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
            case 'Z': {
              img.src = "./img/2_2_9.png";
              eau.innerText = "High";
              nomo.innerText = "High";
              this.eautagHigh();
              this.nomotagHigh();
              break;
            }
          }
        }
      }
    });
  </script>
</html>